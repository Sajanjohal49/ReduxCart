{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Desktop/AdvancedRedux/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Desktop/AdvancedRedux/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createCartActions}from\"./reduxSlices\";import{cartLogicActions}from\"./cart-slice\";export var fetchCartData=function fetchCartData(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var fetchData,cartData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://cart-e4965-default-rtdb.firebaseio.com/AdvancedReduxCart.json\");case 2:response=_context.sent;if(response.ok){_context.next=5;break;}throw new Error(\"could not fetch data\");case 5:_context.next=7;return response.json();case 7:data=_context.sent;return _context.abrupt(\"return\",data);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();_context2.prev=1;_context2.next=4;return fetchData();case 4:cartData=_context2.sent;dispatch(cartLogicActions.replaceCart({items:cartData.items||[],totalQuantity:cartData.totalQuantity}));_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch(createCartActions.showNotification({status:\"error\",title:\"error!\",message:\"error comes up!\"}));case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var sendDataToBackend=function sendDataToBackend(cart){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var sendRequest;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(createCartActions.showNotification({status:\"pending\",title:\"sending\",message:\"sending cart data!\"}));sendRequest=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://cart-e4965-default-rtdb.firebaseio.com/AdvancedReduxCart.json\",{method:\"PUT\",body:JSON.stringify({items:cart.items,totalQuantity:cart.totalQuantity})});case 2:response=_context3.sent;if(response.ok){_context3.next=5;break;}throw new Error(\"something went wrong \");case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function sendRequest(){return _ref4.apply(this,arguments);};}();_context4.prev=2;_context4.next=5;return sendRequest();case 5:dispatch(createCartActions.showNotification({status:\"success\",title:\"success!\",message:\"sent cart data succesfully!\"}));_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](2);dispatch(createCartActions.showNotification({status:\"error\",title:\"error!\",message:\"error comes up!\"}));case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[2,8]]);}));return function(_x2){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["createCartActions","cartLogicActions","fetchCartData","dispatch","fetchData","fetch","response","ok","Error","json","data","cartData","replaceCart","items","totalQuantity","showNotification","status","title","message","sendDataToBackend","cart","sendRequest","method","body","JSON","stringify"],"sources":["C:/Users/hp/Desktop/AdvancedRedux/src/components/store/action-creator.js"],"sourcesContent":["import { createCartActions } from \"./reduxSlices\";\r\nimport { cartLogicActions } from \"./cart-slice\";\r\nexport const fetchCartData = () => {\r\n  return async (dispatch) => {\r\n    const fetchData = async () => {\r\n      const response = await fetch(\r\n        \"https://cart-e4965-default-rtdb.firebaseio.com/AdvancedReduxCart.json\"\r\n      \r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"could not fetch data\");\r\n      }\r\n      const data = await response.json();\r\n      return data;\r\n    };\r\n    try {\r\n      const cartData = await fetchData();\r\n      dispatch(\r\n        cartLogicActions.replaceCart({\r\n          items: cartData.items || [],\r\n          totalQuantity: cartData.totalQuantity,\r\n        })\r\n      );\r\n    } catch (error) {\r\n      dispatch(\r\n        createCartActions.showNotification({\r\n          status: \"error\",\r\n          title: \"error!\",\r\n          message: \"error comes up!\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n};\r\nexport const sendDataToBackend = (cart) => {\r\n  return async (dispatch) => {\r\n    dispatch(\r\n      createCartActions.showNotification({\r\n        status: \"pending\",\r\n        title: \"sending\",\r\n        message: \"sending cart data!\",\r\n      })\r\n    );\r\n    const sendRequest = async () => {\r\n      const response = await fetch(\r\n        \"https://cart-e4965-default-rtdb.firebaseio.com/AdvancedReduxCart.json\",\r\n        {\r\n          method: \"PUT\",\r\n          body: JSON.stringify({\r\n            items: cart.items,\r\n            totalQuantity: cart.totalQuantity,\r\n          }),\r\n        }\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(\"something went wrong \");\r\n      }\r\n    };\r\n    try {\r\n      await sendRequest();\r\n      dispatch(\r\n        createCartActions.showNotification({\r\n          status: \"success\",\r\n          title: \"success!\",\r\n          message: \"sent cart data succesfully!\",\r\n        })\r\n      );\r\n    } catch (error) {\r\n      dispatch(\r\n        createCartActions.showNotification({\r\n          status: \"error\",\r\n          title: \"error!\",\r\n          message: \"error comes up!\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n};\r\n"],"mappings":"8PAAA,OAASA,iBAAT,KAAkC,eAAlC,CACA,OAASC,gBAAT,KAAiC,cAAjC,CACA,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CACjC,iGAAO,kBAAOC,QAAP,+IACCC,SADD,6FACa,6KACOC,MAAK,CAC1B,uEAD0B,CADZ,QACVC,QADU,kBAKXA,QAAQ,CAACC,EALE,8BAMR,IAAIC,MAAJ,CAAU,sBAAV,CANQ,8BAQGF,SAAQ,CAACG,IAAT,EARH,QAQVC,IARU,+CASTA,IATS,wDADb,kBACCN,UADD,oFAaoBA,UAAS,EAb7B,QAaGO,QAbH,gBAcHR,QAAQ,CACNF,gBAAgB,CAACW,WAAjB,CAA6B,CAC3BC,KAAK,CAAEF,QAAQ,CAACE,KAAT,EAAkB,EADE,CAE3BC,aAAa,CAAEH,QAAQ,CAACG,aAFG,CAA7B,CADM,CAAR,CAdG,mFAqBHX,QAAQ,CACNH,iBAAiB,CAACe,gBAAlB,CAAmC,CACjCC,MAAM,CAAE,OADyB,CAEjCC,KAAK,CAAE,QAF0B,CAGjCC,OAAO,CAAE,iBAHwB,CAAnC,CADM,CAAR,CArBG,sEAAP,+DA8BD,CA/BM,CAgCP,MAAO,IAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,CAACC,IAAD,CAAU,CACzC,kGAAO,kBAAOjB,QAAP,wIACLA,QAAQ,CACNH,iBAAiB,CAACe,gBAAlB,CAAmC,CACjCC,MAAM,CAAE,SADyB,CAEjCC,KAAK,CAAE,SAF0B,CAGjCC,OAAO,CAAE,oBAHwB,CAAnC,CADM,CAAR,CAOMG,WARD,6FAQe,8KACKhB,MAAK,CAC1B,uEAD0B,CAE1B,CACEiB,MAAM,CAAE,KADV,CAEEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBZ,KAAK,CAAEO,IAAI,CAACP,KADO,CAEnBC,aAAa,CAAEM,IAAI,CAACN,aAFD,CAAf,CAFR,CAF0B,CADV,QACZR,QADY,mBAWbA,QAAQ,CAACC,EAXI,+BAYV,IAAIC,MAAJ,CAAU,uBAAV,CAZU,yDARf,kBAQCa,YARD,oFAwBGA,YAAW,EAxBd,QAyBHlB,QAAQ,CACNH,iBAAiB,CAACe,gBAAlB,CAAmC,CACjCC,MAAM,CAAE,SADyB,CAEjCC,KAAK,CAAE,UAF0B,CAGjCC,OAAO,CAAE,6BAHwB,CAAnC,CADM,CAAR,CAzBG,mFAiCHf,QAAQ,CACNH,iBAAiB,CAACe,gBAAlB,CAAmC,CACjCC,MAAM,CAAE,OADyB,CAEjCC,KAAK,CAAE,QAF0B,CAGjCC,OAAO,CAAE,iBAHwB,CAAnC,CADM,CAAR,CAjCG,sEAAP,iEA0CD,CA3CM"},"metadata":{},"sourceType":"module"}