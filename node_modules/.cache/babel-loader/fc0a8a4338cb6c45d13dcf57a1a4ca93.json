{"ast":null,"code":"import{Fragment,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import Cart from\"./components/Cart/Cart\";import Layout from\"./components/Layout/Layout\";import Products from\"./components/Shop/Products\";import{fetchCartData,sendDataToBackend}from\"./components/store/action-creator\";import Notification from\"./components/UI/Notification\";//we have use this function to hide notification after access the data\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var isInitial=true;function App(){var dispatch=useDispatch();var isCart=useSelector(function(state){return state.cart.isShowCart;});var notification=useSelector(function(state){return state.cart.notification;});var cart=useSelector(function(state){return state.cartLogic;});useEffect(function(){dispatch(fetchCartData());},[dispatch]);useEffect(function(){if(isInitial){isInitial=false;return;}//if the cart will change the data will only be sent to backend \n//as before it was loading whenever the page refreshes\nif(cart.changed){dispatch(sendDataToBackend(cart));}//dispatch data from action creator component\n},[cart,dispatch]);return/*#__PURE__*/_jsxs(Fragment,{children:[notification&&/*#__PURE__*/_jsx(Notification,{status:notification.status,title:notification.title,message:notification.message}),/*#__PURE__*/_jsxs(Layout,{children:[isCart&&/*#__PURE__*/_jsx(Cart,{}),/*#__PURE__*/_jsx(Products,{})]})]});}export default App;","map":{"version":3,"names":["Fragment","useEffect","useDispatch","useSelector","Cart","Layout","Products","fetchCartData","sendDataToBackend","Notification","isInitial","App","dispatch","isCart","state","cart","isShowCart","notification","cartLogic","changed","status","title","message"],"sources":["C:/Users/hp/Desktop/AdvancedRedux/src/App.js"],"sourcesContent":["import { Fragment, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Cart from \"./components/Cart/Cart\";\nimport Layout from \"./components/Layout/Layout\";\nimport Products from \"./components/Shop/Products\";\nimport {  fetchCartData, sendDataToBackend } from \"./components/store/action-creator\";\nimport Notification from \"./components/UI/Notification\";\n\n//we have use this function to hide notification after access the data\nlet isInitial = true;\n\nfunction App() {\n  const dispatch = useDispatch();\n  const isCart = useSelector((state) => state.cart.isShowCart);\n  const notification = useSelector((state) => state.cart.notification);\n  const cart = useSelector((state) => state.cartLogic);\n  \n  useEffect(()=>{\n    dispatch(fetchCartData());\n  },[dispatch]);\n  useEffect(() => {\n    if (isInitial) {\n      isInitial = false;\n      return;\n    }\n    //if the cart will change the data will only be sent to backend \n    //as before it was loading whenever the page refreshes\n    if(cart.changed){\n      dispatch(sendDataToBackend(cart));\n    }\n    //dispatch data from action creator component\n    \n  }, [cart, dispatch]);\n\n  return (\n    <Fragment>\n      {notification && (\n        <Notification\n          status={notification.status}\n          title={notification.title}\n          message={notification.message}\n        />\n      )}\n      <Layout>\n        {isCart && <Cart />}\n        <Products />\n      </Layout>\n    </Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,KAAP,KAAiB,wBAAjB,CACA,MAAOC,OAAP,KAAmB,4BAAnB,CACA,MAAOC,SAAP,KAAqB,4BAArB,CACA,OAAUC,aAAV,CAAyBC,iBAAzB,KAAkD,mCAAlD,CACA,MAAOC,aAAP,KAAyB,8BAAzB,CAEA;wFACA,GAAIC,UAAS,CAAG,IAAhB,CAEA,QAASC,IAAT,EAAe,CACb,GAAMC,SAAQ,CAAGV,WAAW,EAA5B,CACA,GAAMW,OAAM,CAAGV,WAAW,CAAC,SAACW,KAAD,QAAWA,MAAK,CAACC,IAAN,CAAWC,UAAtB,EAAD,CAA1B,CACA,GAAMC,aAAY,CAAGd,WAAW,CAAC,SAACW,KAAD,QAAWA,MAAK,CAACC,IAAN,CAAWE,YAAtB,EAAD,CAAhC,CACA,GAAMF,KAAI,CAAGZ,WAAW,CAAC,SAACW,KAAD,QAAWA,MAAK,CAACI,SAAjB,EAAD,CAAxB,CAEAjB,SAAS,CAAC,UAAI,CACZW,QAAQ,CAACL,aAAa,EAAd,CAAR,CACD,CAFQ,CAEP,CAACK,QAAD,CAFO,CAAT,CAGAX,SAAS,CAAC,UAAM,CACd,GAAIS,SAAJ,CAAe,CACbA,SAAS,CAAG,KAAZ,CACA,OACD,CACD;AACA;AACA,GAAGK,IAAI,CAACI,OAAR,CAAgB,CACdP,QAAQ,CAACJ,iBAAiB,CAACO,IAAD,CAAlB,CAAR,CACD,CACD;AAED,CAZQ,CAYN,CAACA,IAAD,CAAOH,QAAP,CAZM,CAAT,CAcA,mBACE,MAAC,QAAD,YACGK,YAAY,eACX,KAAC,YAAD,EACE,MAAM,CAAEA,YAAY,CAACG,MADvB,CAEE,KAAK,CAAEH,YAAY,CAACI,KAFtB,CAGE,OAAO,CAAEJ,YAAY,CAACK,OAHxB,EAFJ,cAQE,MAAC,MAAD,YACGT,MAAM,eAAI,KAAC,IAAD,IADb,cAEE,KAAC,QAAD,IAFF,GARF,GADF,CAeD,CAED,cAAeF,IAAf"},"metadata":{},"sourceType":"module"}